.include "macros.inc"

.section .text, "ax"  # 0x800056C0 - 0x80472F00
.global ReadProc
ReadProc:
/* 800FED70 000FBCB0  7C 08 02 A6 */	mflr r0
/* 800FED74 000FBCB4  3C 80 80 4F */	lis r4, __GBA@ha
/* 800FED78 000FBCB8  90 01 00 04 */	stw r0, 4(r1)
/* 800FED7C 000FBCBC  54 63 40 2E */	slwi r3, r3, 8
/* 800FED80 000FBCC0  38 04 75 C0 */	addi r0, r4, __GBA@l
/* 800FED84 000FBCC4  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 800FED88 000FBCC8  93 E1 00 14 */	stw r31, 0x14(r1)
/* 800FED8C 000FBCCC  7F E0 1A 14 */	add r31, r0, r3
/* 800FED90 000FBCD0  80 1F 00 20 */	lwz r0, 0x20(r31)
/* 800FED94 000FBCD4  2C 00 00 00 */	cmpwi r0, 0
/* 800FED98 000FBCD8  40 82 00 24 */	bne lbl_800FEDBC
/* 800FED9C 000FBCDC  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 800FEDA0 000FBCE0  38 9F 00 05 */	addi r4, r31, 5
/* 800FEDA4 000FBCE4  38 A0 00 04 */	li r5, 4
/* 800FEDA8 000FBCE8  4B F0 63 F5 */	bl memcpy
/* 800FEDAC 000FBCEC  88 1F 00 09 */	lbz r0, 9(r31)
/* 800FEDB0 000FBCF0  80 7F 00 14 */	lwz r3, 0x14(r31)
/* 800FEDB4 000FBCF4  70 00 00 3A */	andi. r0, r0, 0x3a
/* 800FEDB8 000FBCF8  98 03 00 00 */	stb r0, 0(r3)
lbl_800FEDBC:
/* 800FEDBC 000FBCFC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800FEDC0 000FBD00  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800FEDC4 000FBD04  38 21 00 18 */	addi r1, r1, 0x18
/* 800FEDC8 000FBD08  7C 08 03 A6 */	mtlr r0
/* 800FEDCC 000FBD0C  4E 80 00 20 */	blr 

.global GBARead
GBARead:
/* 800FEDD0 000FBD10  7C 08 02 A6 */	mflr r0
/* 800FEDD4 000FBD14  90 01 00 04 */	stw r0, 4(r1)
/* 800FEDD8 000FBD18  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 800FEDDC 000FBD1C  93 E1 00 24 */	stw r31, 0x24(r1)
/* 800FEDE0 000FBD20  3B E3 00 00 */	addi r31, r3, 0
/* 800FEDE4 000FBD24  3C 60 80 4F */	lis r3, __GBA@ha
/* 800FEDE8 000FBD28  57 E6 40 2E */	slwi r6, r31, 8
/* 800FEDEC 000FBD2C  38 03 75 C0 */	addi r0, r3, __GBA@l
/* 800FEDF0 000FBD30  7D 00 32 14 */	add r8, r0, r6
/* 800FEDF4 000FBD34  80 08 00 1C */	lwz r0, 0x1c(r8)
/* 800FEDF8 000FBD38  28 00 00 00 */	cmplwi r0, 0
/* 800FEDFC 000FBD3C  41 82 00 0C */	beq lbl_800FEE08
/* 800FEE00 000FBD40  38 60 00 02 */	li r3, 2
/* 800FEE04 000FBD44  48 00 00 38 */	b lbl_800FEE3C
lbl_800FEE08:
/* 800FEE08 000FBD48  38 00 00 14 */	li r0, 0x14
/* 800FEE0C 000FBD4C  98 08 00 00 */	stb r0, 0(r8)
/* 800FEE10 000FBD50  3C E0 80 10 */	lis r7, __GBASyncCallback@ha
/* 800FEE14 000FBD54  3C 60 80 10 */	lis r3, ReadProc@ha
/* 800FEE18 000FBD58  90 88 00 18 */	stw r4, 0x18(r8)
/* 800FEE1C 000FBD5C  38 C3 ED 70 */	addi r6, r3, ReadProc@l
/* 800FEE20 000FBD60  38 07 F0 34 */	addi r0, r7, __GBASyncCallback@l
/* 800FEE24 000FBD64  90 A8 00 14 */	stw r5, 0x14(r8)
/* 800FEE28 000FBD68  7F E3 FB 78 */	mr r3, r31
/* 800FEE2C 000FBD6C  38 80 00 01 */	li r4, 1
/* 800FEE30 000FBD70  90 08 00 1C */	stw r0, 0x1c(r8)
/* 800FEE34 000FBD74  38 A0 00 05 */	li r5, 5
/* 800FEE38 000FBD78  48 00 03 C1 */	bl __GBATransfer
lbl_800FEE3C:
/* 800FEE3C 000FBD7C  2C 03 00 00 */	cmpwi r3, 0
/* 800FEE40 000FBD80  41 82 00 08 */	beq lbl_800FEE48
/* 800FEE44 000FBD84  48 00 00 0C */	b lbl_800FEE50
lbl_800FEE48:
/* 800FEE48 000FBD88  7F E3 FB 78 */	mr r3, r31
/* 800FEE4C 000FBD8C  48 00 02 1D */	bl __GBASync
lbl_800FEE50:
/* 800FEE50 000FBD90  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 800FEE54 000FBD94  83 E1 00 24 */	lwz r31, 0x24(r1)
/* 800FEE58 000FBD98  38 21 00 28 */	addi r1, r1, 0x28
/* 800FEE5C 000FBD9C  7C 08 03 A6 */	mtlr r0
/* 800FEE60 000FBDA0  4E 80 00 20 */	blr 
