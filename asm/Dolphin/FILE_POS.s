.include "macros.inc"

.section .text, "ax"  # 0x800056C0 - 0x80472F00
.global fseek
fseek:
/* 800C6904 000C3844  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C6908 000C3848  7C 08 02 A6 */	mflr r0
/* 800C690C 000C384C  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C6910 000C3850  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C6914 000C3854  7C BF 2B 78 */	mr r31, r5
/* 800C6918 000C3858  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C691C 000C385C  7C 9E 23 78 */	mr r30, r4
/* 800C6920 000C3860  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800C6924 000C3864  7C 7D 1B 78 */	mr r29, r3
/* 800C6928 000C3868  38 60 00 02 */	li r3, 2
/* 800C692C 000C386C  4B FF F9 31 */	bl __begin_critical_region
/* 800C6930 000C3870  7F A3 EB 78 */	mr r3, r29
/* 800C6934 000C3874  7F C4 F3 78 */	mr r4, r30
/* 800C6938 000C3878  7F E5 FB 78 */	mr r5, r31
/* 800C693C 000C387C  48 00 00 35 */	bl _fseek
/* 800C6940 000C3880  7C 60 1B 78 */	mr r0, r3
/* 800C6944 000C3884  38 60 00 02 */	li r3, 2
/* 800C6948 000C3888  7C 1F 03 78 */	mr r31, r0
/* 800C694C 000C388C  4B FF F9 0D */	bl __end_critical_region
/* 800C6950 000C3890  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C6954 000C3894  7F E3 FB 78 */	mr r3, r31
/* 800C6958 000C3898  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C695C 000C389C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C6960 000C38A0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800C6964 000C38A4  7C 08 03 A6 */	mtlr r0
/* 800C6968 000C38A8  38 21 00 20 */	addi r1, r1, 0x20
/* 800C696C 000C38AC  4E 80 00 20 */	blr 

.global _fseek
_fseek:
/* 800C6970 000C38B0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C6974 000C38B4  7C 08 02 A6 */	mflr r0
/* 800C6978 000C38B8  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C697C 000C38BC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C6980 000C38C0  7C BF 2B 78 */	mr r31, r5
/* 800C6984 000C38C4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C6988 000C38C8  7C 7E 1B 78 */	mr r30, r3
/* 800C698C 000C38CC  90 81 00 08 */	stw r4, 8(r1)
/* 800C6990 000C38D0  A0 03 00 04 */	lhz r0, 4(r3)
/* 800C6994 000C38D4  54 00 D7 7E */	rlwinm r0, r0, 0x1a, 0x1d, 0x1f
/* 800C6998 000C38D8  28 00 00 01 */	cmplwi r0, 1
/* 800C699C 000C38DC  40 82 00 10 */	bne lbl_800C69AC
/* 800C69A0 000C38E0  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 800C69A4 000C38E4  28 00 00 00 */	cmplwi r0, 0
/* 800C69A8 000C38E8  41 82 00 14 */	beq lbl_800C69BC
lbl_800C69AC:
/* 800C69AC 000C38EC  38 00 00 28 */	li r0, 0x28
/* 800C69B0 000C38F0  38 60 FF FF */	li r3, -1
/* 800C69B4 000C38F4  90 0D 8C C0 */	stw r0, errno@sda21(r13)
/* 800C69B8 000C38F8  48 00 02 10 */	b lbl_800C6BC8
lbl_800C69BC:
/* 800C69BC 000C38FC  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C69C0 000C3900  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 800C69C4 000C3904  28 00 00 01 */	cmplwi r0, 1
/* 800C69C8 000C3908  40 82 00 34 */	bne lbl_800C69FC
/* 800C69CC 000C390C  38 80 00 00 */	li r4, 0
/* 800C69D0 000C3910  4B FF F7 91 */	bl __flush_buffer
/* 800C69D4 000C3914  2C 03 00 00 */	cmpwi r3, 0
/* 800C69D8 000C3918  41 82 00 24 */	beq lbl_800C69FC
/* 800C69DC 000C391C  38 00 00 01 */	li r0, 1
/* 800C69E0 000C3920  38 80 00 00 */	li r4, 0
/* 800C69E4 000C3924  98 1E 00 0A */	stb r0, 0xa(r30)
/* 800C69E8 000C3928  38 00 00 28 */	li r0, 0x28
/* 800C69EC 000C392C  38 60 FF FF */	li r3, -1
/* 800C69F0 000C3930  90 9E 00 28 */	stw r4, 0x28(r30)
/* 800C69F4 000C3934  90 0D 8C C0 */	stw r0, errno@sda21(r13)
/* 800C69F8 000C3938  48 00 01 D0 */	b lbl_800C6BC8
lbl_800C69FC:
/* 800C69FC 000C393C  2C 1F 00 01 */	cmpwi r31, 1
/* 800C6A00 000C3940  40 82 00 B4 */	bne lbl_800C6AB4
/* 800C6A04 000C3944  A0 1E 00 04 */	lhz r0, 4(r30)
/* 800C6A08 000C3948  3B E0 00 00 */	li r31, 0
/* 800C6A0C 000C394C  38 80 00 00 */	li r4, 0
/* 800C6A10 000C3950  54 00 D7 7E */	rlwinm r0, r0, 0x1a, 0x1d, 0x1f
/* 800C6A14 000C3954  28 00 00 01 */	cmplwi r0, 1
/* 800C6A18 000C3958  41 82 00 0C */	beq lbl_800C6A24
/* 800C6A1C 000C395C  28 00 00 02 */	cmplwi r0, 2
/* 800C6A20 000C3960  40 82 00 10 */	bne lbl_800C6A30
lbl_800C6A24:
/* 800C6A24 000C3964  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 800C6A28 000C3968  28 00 00 00 */	cmplwi r0, 0
/* 800C6A2C 000C396C  41 82 00 14 */	beq lbl_800C6A40
lbl_800C6A30:
/* 800C6A30 000C3970  38 00 00 28 */	li r0, 0x28
/* 800C6A34 000C3974  38 60 FF FF */	li r3, -1
/* 800C6A38 000C3978  90 0D 8C C0 */	stw r0, errno@sda21(r13)
/* 800C6A3C 000C397C  48 00 00 6C */	b lbl_800C6AA8
lbl_800C6A40:
/* 800C6A40 000C3980  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6A44 000C3984  54 05 DF 7F */	rlwinm. r5, r0, 0x1b, 0x1d, 0x1f
/* 800C6A48 000C3988  40 82 00 0C */	bne lbl_800C6A54
/* 800C6A4C 000C398C  80 7E 00 18 */	lwz r3, 0x18(r30)
/* 800C6A50 000C3990  48 00 00 58 */	b lbl_800C6AA8
lbl_800C6A54:
/* 800C6A54 000C3994  80 FE 00 1C */	lwz r7, 0x1c(r30)
/* 800C6A58 000C3998  28 05 00 03 */	cmplwi r5, 3
/* 800C6A5C 000C399C  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 800C6A60 000C39A0  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 800C6A64 000C39A4  7C C7 00 50 */	subf r6, r7, r0
/* 800C6A68 000C39A8  7C 63 32 14 */	add r3, r3, r6
/* 800C6A6C 000C39AC  41 80 00 0C */	blt lbl_800C6A78
/* 800C6A70 000C39B0  38 85 FF FE */	addi r4, r5, -2
/* 800C6A74 000C39B4  7C 64 18 50 */	subf r3, r4, r3
lbl_800C6A78:
/* 800C6A78 000C39B8  88 1E 00 05 */	lbz r0, 5(r30)
/* 800C6A7C 000C39BC  54 00 EF FF */	rlwinm. r0, r0, 0x1d, 0x1f, 0x1f
/* 800C6A80 000C39C0  40 82 00 28 */	bne lbl_800C6AA8
/* 800C6A84 000C39C4  7C 04 30 51 */	subf. r0, r4, r6
/* 800C6A88 000C39C8  7C 09 03 A6 */	mtctr r0
/* 800C6A8C 000C39CC  41 82 00 1C */	beq lbl_800C6AA8
lbl_800C6A90:
/* 800C6A90 000C39D0  88 07 00 00 */	lbz r0, 0(r7)
/* 800C6A94 000C39D4  38 E7 00 01 */	addi r7, r7, 1
/* 800C6A98 000C39D8  28 00 00 0A */	cmplwi r0, 0xa
/* 800C6A9C 000C39DC  40 82 00 08 */	bne lbl_800C6AA4
/* 800C6AA0 000C39E0  38 63 00 01 */	addi r3, r3, 1
lbl_800C6AA4:
/* 800C6AA4 000C39E4  42 00 FF EC */	bdnz lbl_800C6A90
lbl_800C6AA8:
/* 800C6AA8 000C39E8  80 01 00 08 */	lwz r0, 8(r1)
/* 800C6AAC 000C39EC  7C 00 1A 14 */	add r0, r0, r3
/* 800C6AB0 000C39F0  90 01 00 08 */	stw r0, 8(r1)
lbl_800C6AB4:
/* 800C6AB4 000C39F4  2C 1F 00 02 */	cmpwi r31, 2
/* 800C6AB8 000C39F8  41 82 00 90 */	beq lbl_800C6B48
/* 800C6ABC 000C39FC  88 1E 00 04 */	lbz r0, 4(r30)
/* 800C6AC0 000C3A00  54 00 EF 7E */	rlwinm r0, r0, 0x1d, 0x1d, 0x1f
/* 800C6AC4 000C3A04  28 00 00 03 */	cmplwi r0, 3
/* 800C6AC8 000C3A08  41 82 00 80 */	beq lbl_800C6B48
/* 800C6ACC 000C3A0C  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6AD0 000C3A10  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 800C6AD4 000C3A14  28 00 00 02 */	cmplwi r0, 2
/* 800C6AD8 000C3A18  41 82 00 0C */	beq lbl_800C6AE4
/* 800C6ADC 000C3A1C  28 00 00 03 */	cmplwi r0, 3
/* 800C6AE0 000C3A20  40 82 00 68 */	bne lbl_800C6B48
lbl_800C6AE4:
/* 800C6AE4 000C3A24  80 61 00 08 */	lwz r3, 8(r1)
/* 800C6AE8 000C3A28  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 800C6AEC 000C3A2C  7C 03 00 40 */	cmplw r3, r0
/* 800C6AF0 000C3A30  40 80 00 10 */	bge lbl_800C6B00
/* 800C6AF4 000C3A34  80 1E 00 34 */	lwz r0, 0x34(r30)
/* 800C6AF8 000C3A38  7C 03 00 40 */	cmplw r3, r0
/* 800C6AFC 000C3A3C  40 80 00 18 */	bge lbl_800C6B14
lbl_800C6B00:
/* 800C6B00 000C3A40  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6B04 000C3A44  38 60 00 00 */	li r3, 0
/* 800C6B08 000C3A48  50 60 2E 34 */	rlwimi r0, r3, 5, 0x18, 0x1a
/* 800C6B0C 000C3A4C  98 1E 00 08 */	stb r0, 8(r30)
/* 800C6B10 000C3A50  48 00 00 48 */	b lbl_800C6B58
lbl_800C6B14:
/* 800C6B14 000C3A54  80 9E 00 1C */	lwz r4, 0x1c(r30)
/* 800C6B18 000C3A58  7C 00 18 50 */	subf r0, r0, r3
/* 800C6B1C 000C3A5C  38 60 00 02 */	li r3, 2
/* 800C6B20 000C3A60  7C 04 02 14 */	add r0, r4, r0
/* 800C6B24 000C3A64  90 1E 00 24 */	stw r0, 0x24(r30)
/* 800C6B28 000C3A68  80 81 00 08 */	lwz r4, 8(r1)
/* 800C6B2C 000C3A6C  80 1E 00 18 */	lwz r0, 0x18(r30)
/* 800C6B30 000C3A70  7C 04 00 50 */	subf r0, r4, r0
/* 800C6B34 000C3A74  90 1E 00 28 */	stw r0, 0x28(r30)
/* 800C6B38 000C3A78  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6B3C 000C3A7C  50 60 2E 34 */	rlwimi r0, r3, 5, 0x18, 0x1a
/* 800C6B40 000C3A80  98 1E 00 08 */	stb r0, 8(r30)
/* 800C6B44 000C3A84  48 00 00 14 */	b lbl_800C6B58
lbl_800C6B48:
/* 800C6B48 000C3A88  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6B4C 000C3A8C  38 60 00 00 */	li r3, 0
/* 800C6B50 000C3A90  50 60 2E 34 */	rlwimi r0, r3, 5, 0x18, 0x1a
/* 800C6B54 000C3A94  98 1E 00 08 */	stb r0, 8(r30)
lbl_800C6B58:
/* 800C6B58 000C3A98  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6B5C 000C3A9C  54 00 DF 7F */	rlwinm. r0, r0, 0x1b, 0x1d, 0x1f
/* 800C6B60 000C3AA0  40 82 00 64 */	bne lbl_800C6BC4
/* 800C6B64 000C3AA4  81 9E 00 38 */	lwz r12, 0x38(r30)
/* 800C6B68 000C3AA8  28 0C 00 00 */	cmplwi r12, 0
/* 800C6B6C 000C3AAC  41 82 00 44 */	beq lbl_800C6BB0
/* 800C6B70 000C3AB0  7F E5 FB 78 */	mr r5, r31
/* 800C6B74 000C3AB4  38 81 00 08 */	addi r4, r1, 8
/* 800C6B78 000C3AB8  80 7E 00 00 */	lwz r3, 0(r30)
/* 800C6B7C 000C3ABC  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 800C6B80 000C3AC0  7D 89 03 A6 */	mtctr r12
/* 800C6B84 000C3AC4  4E 80 04 21 */	bctrl 
/* 800C6B88 000C3AC8  2C 03 00 00 */	cmpwi r3, 0
/* 800C6B8C 000C3ACC  41 82 00 24 */	beq lbl_800C6BB0
/* 800C6B90 000C3AD0  38 00 00 01 */	li r0, 1
/* 800C6B94 000C3AD4  38 80 00 00 */	li r4, 0
/* 800C6B98 000C3AD8  98 1E 00 0A */	stb r0, 0xa(r30)
/* 800C6B9C 000C3ADC  38 00 00 28 */	li r0, 0x28
/* 800C6BA0 000C3AE0  38 60 FF FF */	li r3, -1
/* 800C6BA4 000C3AE4  90 9E 00 28 */	stw r4, 0x28(r30)
/* 800C6BA8 000C3AE8  90 0D 8C C0 */	stw r0, errno@sda21(r13)
/* 800C6BAC 000C3AEC  48 00 00 1C */	b lbl_800C6BC8
lbl_800C6BB0:
/* 800C6BB0 000C3AF0  38 60 00 00 */	li r3, 0
/* 800C6BB4 000C3AF4  98 7E 00 09 */	stb r3, 9(r30)
/* 800C6BB8 000C3AF8  80 01 00 08 */	lwz r0, 8(r1)
/* 800C6BBC 000C3AFC  90 1E 00 18 */	stw r0, 0x18(r30)
/* 800C6BC0 000C3B00  90 7E 00 28 */	stw r3, 0x28(r30)
lbl_800C6BC4:
/* 800C6BC4 000C3B04  38 60 00 00 */	li r3, 0
lbl_800C6BC8:
/* 800C6BC8 000C3B08  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C6BCC 000C3B0C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C6BD0 000C3B10  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C6BD4 000C3B14  7C 08 03 A6 */	mtlr r0
/* 800C6BD8 000C3B18  38 21 00 20 */	addi r1, r1, 0x20
/* 800C6BDC 000C3B1C  4E 80 00 20 */	blr 

.global ftell
ftell:
/* 800C6BE0 000C3B20  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C6BE4 000C3B24  7C 08 02 A6 */	mflr r0
/* 800C6BE8 000C3B28  90 01 00 14 */	stw r0, 0x14(r1)
/* 800C6BEC 000C3B2C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800C6BF0 000C3B30  93 C1 00 08 */	stw r30, 8(r1)
/* 800C6BF4 000C3B34  7C 7E 1B 78 */	mr r30, r3
/* 800C6BF8 000C3B38  38 60 00 02 */	li r3, 2
/* 800C6BFC 000C3B3C  4B FF F6 61 */	bl __begin_critical_region
/* 800C6C00 000C3B40  A0 1E 00 04 */	lhz r0, 4(r30)
/* 800C6C04 000C3B44  38 80 00 00 */	li r4, 0
/* 800C6C08 000C3B48  54 00 D7 7E */	rlwinm r0, r0, 0x1a, 0x1d, 0x1f
/* 800C6C0C 000C3B4C  28 00 00 01 */	cmplwi r0, 1
/* 800C6C10 000C3B50  41 82 00 0C */	beq lbl_800C6C1C
/* 800C6C14 000C3B54  28 00 00 02 */	cmplwi r0, 2
/* 800C6C18 000C3B58  40 82 00 10 */	bne lbl_800C6C28
lbl_800C6C1C:
/* 800C6C1C 000C3B5C  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 800C6C20 000C3B60  28 00 00 00 */	cmplwi r0, 0
/* 800C6C24 000C3B64  41 82 00 14 */	beq lbl_800C6C38
lbl_800C6C28:
/* 800C6C28 000C3B68  38 00 00 28 */	li r0, 0x28
/* 800C6C2C 000C3B6C  3B E0 FF FF */	li r31, -1
/* 800C6C30 000C3B70  90 0D 8C C0 */	stw r0, errno@sda21(r13)
/* 800C6C34 000C3B74  48 00 00 6C */	b lbl_800C6CA0
lbl_800C6C38:
/* 800C6C38 000C3B78  88 1E 00 08 */	lbz r0, 8(r30)
/* 800C6C3C 000C3B7C  54 05 DF 7F */	rlwinm. r5, r0, 0x1b, 0x1d, 0x1f
/* 800C6C40 000C3B80  40 82 00 0C */	bne lbl_800C6C4C
/* 800C6C44 000C3B84  83 FE 00 18 */	lwz r31, 0x18(r30)
/* 800C6C48 000C3B88  48 00 00 58 */	b lbl_800C6CA0
lbl_800C6C4C:
/* 800C6C4C 000C3B8C  80 FE 00 1C */	lwz r7, 0x1c(r30)
/* 800C6C50 000C3B90  28 05 00 03 */	cmplwi r5, 3
/* 800C6C54 000C3B94  80 1E 00 24 */	lwz r0, 0x24(r30)
/* 800C6C58 000C3B98  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 800C6C5C 000C3B9C  7C C7 00 50 */	subf r6, r7, r0
/* 800C6C60 000C3BA0  7F E3 32 14 */	add r31, r3, r6
/* 800C6C64 000C3BA4  41 80 00 0C */	blt lbl_800C6C70
/* 800C6C68 000C3BA8  38 85 FF FE */	addi r4, r5, -2
/* 800C6C6C 000C3BAC  7F E4 F8 50 */	subf r31, r4, r31
lbl_800C6C70:
/* 800C6C70 000C3BB0  88 1E 00 05 */	lbz r0, 5(r30)
/* 800C6C74 000C3BB4  54 00 EF FF */	rlwinm. r0, r0, 0x1d, 0x1f, 0x1f
/* 800C6C78 000C3BB8  40 82 00 28 */	bne lbl_800C6CA0
/* 800C6C7C 000C3BBC  7C 04 30 51 */	subf. r0, r4, r6
/* 800C6C80 000C3BC0  7C 09 03 A6 */	mtctr r0
/* 800C6C84 000C3BC4  41 82 00 1C */	beq lbl_800C6CA0
lbl_800C6C88:
/* 800C6C88 000C3BC8  88 07 00 00 */	lbz r0, 0(r7)
/* 800C6C8C 000C3BCC  38 E7 00 01 */	addi r7, r7, 1
/* 800C6C90 000C3BD0  28 00 00 0A */	cmplwi r0, 0xa
/* 800C6C94 000C3BD4  40 82 00 08 */	bne lbl_800C6C9C
/* 800C6C98 000C3BD8  3B FF 00 01 */	addi r31, r31, 1
lbl_800C6C9C:
/* 800C6C9C 000C3BDC  42 00 FF EC */	bdnz lbl_800C6C88
lbl_800C6CA0:
/* 800C6CA0 000C3BE0  38 60 00 02 */	li r3, 2
/* 800C6CA4 000C3BE4  4B FF F5 B5 */	bl __end_critical_region
/* 800C6CA8 000C3BE8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800C6CAC 000C3BEC  7F E3 FB 78 */	mr r3, r31
/* 800C6CB0 000C3BF0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800C6CB4 000C3BF4  83 C1 00 08 */	lwz r30, 8(r1)
/* 800C6CB8 000C3BF8  7C 08 03 A6 */	mtlr r0
/* 800C6CBC 000C3BFC  38 21 00 10 */	addi r1, r1, 0x10
/* 800C6CC0 000C3C00  4E 80 00 20 */	blr 
