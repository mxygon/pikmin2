.include "macros.inc"
.section .sdata2, "a"     # 0x80516360 - 0x80520E40
.balign 0x8
.global lbl_805170C8
lbl_805170C8:
	.4byte 0x0000C0E0
	.4byte 0x00000000

.section .text, "ax"  # 0x800056C0 - 0x80472F00
.global wcstombs
wcstombs:
/* 800C6CC4 000C3C04  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800C6CC8 000C3C08  7C 08 02 A6 */	mflr r0
/* 800C6CCC 000C3C0C  90 01 00 34 */	stw r0, 0x34(r1)
/* 800C6CD0 000C3C10  BF 61 00 1C */	stmw r27, 0x1c(r1)
/* 800C6CD4 000C3C14  7C 7C 1B 79 */	or. r28, r3, r3
/* 800C6CD8 000C3C18  7C BD 2B 78 */	mr r29, r5
/* 800C6CDC 000C3C1C  3B E0 00 00 */	li r31, 0
/* 800C6CE0 000C3C20  41 82 00 0C */	beq lbl_800C6CEC
/* 800C6CE4 000C3C24  28 04 00 00 */	cmplwi r4, 0
/* 800C6CE8 000C3C28  40 82 00 0C */	bne lbl_800C6CF4
lbl_800C6CEC:
/* 800C6CEC 000C3C2C  38 60 00 00 */	li r3, 0
/* 800C6CF0 000C3C30  48 00 00 D8 */	b lbl_800C6DC8
lbl_800C6CF4:
/* 800C6CF4 000C3C34  7C 9E 23 78 */	mr r30, r4
/* 800C6CF8 000C3C38  48 00 00 C4 */	b lbl_800C6DBC
lbl_800C6CFC:
/* 800C6CFC 000C3C3C  A0 DE 00 00 */	lhz r6, 0(r30)
/* 800C6D00 000C3C40  28 06 00 00 */	cmplwi r6, 0
/* 800C6D04 000C3C44  40 82 00 10 */	bne lbl_800C6D14
/* 800C6D08 000C3C48  38 00 00 00 */	li r0, 0
/* 800C6D0C 000C3C4C  7C 1C F9 AE */	stbx r0, r28, r31
/* 800C6D10 000C3C50  48 00 00 B8 */	b lbl_800C6DC8
lbl_800C6D14:
/* 800C6D14 000C3C54  80 02 8D 68 */	lwz r0, lbl_805170C8@sda21(r2)
/* 800C6D18 000C3C58  28 06 00 80 */	cmplwi r6, 0x80
/* 800C6D1C 000C3C5C  3B DE 00 02 */	addi r30, r30, 2
/* 800C6D20 000C3C60  90 01 00 08 */	stw r0, 8(r1)
/* 800C6D24 000C3C64  40 80 00 0C */	bge lbl_800C6D30
/* 800C6D28 000C3C68  3B 60 00 01 */	li r27, 1
/* 800C6D2C 000C3C6C  48 00 00 18 */	b lbl_800C6D44
lbl_800C6D30:
/* 800C6D30 000C3C70  28 06 08 00 */	cmplwi r6, 0x800
/* 800C6D34 000C3C74  40 80 00 0C */	bge lbl_800C6D40
/* 800C6D38 000C3C78  3B 60 00 02 */	li r27, 2
/* 800C6D3C 000C3C7C  48 00 00 08 */	b lbl_800C6D44
lbl_800C6D40:
/* 800C6D40 000C3C80  3B 60 00 03 */	li r27, 3
lbl_800C6D44:
/* 800C6D44 000C3C84  2C 1B 00 02 */	cmpwi r27, 2
/* 800C6D48 000C3C88  38 A1 00 0C */	addi r5, r1, 0xc
/* 800C6D4C 000C3C8C  7C A5 DA 14 */	add r5, r5, r27
/* 800C6D50 000C3C90  41 82 00 2C */	beq lbl_800C6D7C
/* 800C6D54 000C3C94  40 80 00 10 */	bge lbl_800C6D64
/* 800C6D58 000C3C98  2C 1B 00 01 */	cmpwi r27, 1
/* 800C6D5C 000C3C9C  40 80 00 30 */	bge lbl_800C6D8C
/* 800C6D60 000C3CA0  48 00 00 3C */	b lbl_800C6D9C
lbl_800C6D64:
/* 800C6D64 000C3CA4  2C 1B 00 04 */	cmpwi r27, 4
/* 800C6D68 000C3CA8  40 80 00 34 */	bge lbl_800C6D9C
/* 800C6D6C 000C3CAC  54 C0 06 BE */	clrlwi r0, r6, 0x1a
/* 800C6D70 000C3CB0  54 C6 D5 BE */	rlwinm r6, r6, 0x1a, 0x16, 0x1f
/* 800C6D74 000C3CB4  60 00 00 80 */	ori r0, r0, 0x80
/* 800C6D78 000C3CB8  9C 05 FF FF */	stbu r0, -1(r5)
lbl_800C6D7C:
/* 800C6D7C 000C3CBC  54 C0 06 BE */	clrlwi r0, r6, 0x1a
/* 800C6D80 000C3CC0  54 C6 D5 BE */	rlwinm r6, r6, 0x1a, 0x16, 0x1f
/* 800C6D84 000C3CC4  60 00 00 80 */	ori r0, r0, 0x80
/* 800C6D88 000C3CC8  9C 05 FF FF */	stbu r0, -1(r5)
lbl_800C6D8C:
/* 800C6D8C 000C3CCC  38 81 00 08 */	addi r4, r1, 8
/* 800C6D90 000C3CD0  7C 04 D8 AE */	lbzx r0, r4, r27
/* 800C6D94 000C3CD4  7C C0 03 78 */	or r0, r6, r0
/* 800C6D98 000C3CD8  98 05 FF FF */	stb r0, -1(r5)
lbl_800C6D9C:
/* 800C6D9C 000C3CDC  7C 1F DA 14 */	add r0, r31, r27
/* 800C6DA0 000C3CE0  7C 00 E8 40 */	cmplw r0, r29
/* 800C6DA4 000C3CE4  41 81 00 24 */	bgt lbl_800C6DC8
/* 800C6DA8 000C3CE8  7F 65 DB 78 */	mr r5, r27
/* 800C6DAC 000C3CEC  7C 7C FA 14 */	add r3, r28, r31
/* 800C6DB0 000C3CF0  38 81 00 0C */	addi r4, r1, 0xc
/* 800C6DB4 000C3CF4  48 00 3A 61 */	bl strncpy
/* 800C6DB8 000C3CF8  7F FF DA 14 */	add r31, r31, r27
lbl_800C6DBC:
/* 800C6DBC 000C3CFC  7C 1F E8 40 */	cmplw r31, r29
/* 800C6DC0 000C3D00  7F E3 FB 78 */	mr r3, r31
/* 800C6DC4 000C3D04  40 81 FF 38 */	ble lbl_800C6CFC
lbl_800C6DC8:
/* 800C6DC8 000C3D08  BB 61 00 1C */	lmw r27, 0x1c(r1)
/* 800C6DCC 000C3D0C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800C6DD0 000C3D10  7C 08 03 A6 */	mtlr r0
/* 800C6DD4 000C3D14  38 21 00 30 */	addi r1, r1, 0x30
/* 800C6DD8 000C3D18  4E 80 00 20 */	blr 

.global mbtowc
mbtowc:
/* 800C6DDC 000C3D1C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C6DE0 000C3D20  7C 08 02 A6 */	mflr r0
/* 800C6DE4 000C3D24  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C6DE8 000C3D28  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C6DEC 000C3D2C  7C 7F 1B 78 */	mr r31, r3
/* 800C6DF0 000C3D30  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C6DF4 000C3D34  3B C0 00 00 */	li r30, 0
/* 800C6DF8 000C3D38  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800C6DFC 000C3D3C  7C 9D 23 79 */	or. r29, r4, r4
/* 800C6E00 000C3D40  40 82 00 08 */	bne lbl_800C6E08
/* 800C6E04 000C3D44  48 00 00 D8 */	b lbl_800C6EDC
lbl_800C6E08:
/* 800C6E08 000C3D48  28 05 00 00 */	cmplwi r5, 0
/* 800C6E0C 000C3D4C  40 82 00 0C */	bne lbl_800C6E18
/* 800C6E10 000C3D50  3B C0 FF FF */	li r30, -1
/* 800C6E14 000C3D54  48 00 00 C8 */	b lbl_800C6EDC
lbl_800C6E18:
/* 800C6E18 000C3D58  7F A3 EB 78 */	mr r3, r29
/* 800C6E1C 000C3D5C  7C A4 2B 78 */	mr r4, r5
/* 800C6E20 000C3D60  48 00 00 DD */	bl is_utf8_complete
/* 800C6E24 000C3D64  2C 03 00 00 */	cmpwi r3, 0
/* 800C6E28 000C3D68  40 80 00 0C */	bge lbl_800C6E34
/* 800C6E2C 000C3D6C  3B C0 FF FF */	li r30, -1
/* 800C6E30 000C3D70  48 00 00 AC */	b lbl_800C6EDC
lbl_800C6E34:
/* 800C6E34 000C3D74  2C 03 00 02 */	cmpwi r3, 2
/* 800C6E38 000C3D78  7F A4 EB 78 */	mr r4, r29
/* 800C6E3C 000C3D7C  41 82 00 28 */	beq lbl_800C6E64
/* 800C6E40 000C3D80  40 80 00 10 */	bge lbl_800C6E50
/* 800C6E44 000C3D84  2C 03 00 01 */	cmpwi r3, 1
/* 800C6E48 000C3D88  40 80 00 30 */	bge lbl_800C6E78
/* 800C6E4C 000C3D8C  48 00 00 3C */	b lbl_800C6E88
lbl_800C6E50:
/* 800C6E50 000C3D90  2C 03 00 04 */	cmpwi r3, 4
/* 800C6E54 000C3D94  40 80 00 34 */	bge lbl_800C6E88
/* 800C6E58 000C3D98  88 1D 00 00 */	lbz r0, 0(r29)
/* 800C6E5C 000C3D9C  38 9D 00 01 */	addi r4, r29, 1
/* 800C6E60 000C3DA0  54 1E 35 B2 */	rlwinm r30, r0, 6, 0x16, 0x19
lbl_800C6E64:
/* 800C6E64 000C3DA4  88 04 00 00 */	lbz r0, 0(r4)
/* 800C6E68 000C3DA8  38 84 00 01 */	addi r4, r4, 1
/* 800C6E6C 000C3DAC  54 00 06 BE */	clrlwi r0, r0, 0x1a
/* 800C6E70 000C3DB0  7F C0 03 78 */	or r0, r30, r0
/* 800C6E74 000C3DB4  54 1E 34 32 */	rlwinm r30, r0, 6, 0x10, 0x19
lbl_800C6E78:
/* 800C6E78 000C3DB8  88 04 00 00 */	lbz r0, 0(r4)
/* 800C6E7C 000C3DBC  54 00 06 7E */	clrlwi r0, r0, 0x19
/* 800C6E80 000C3DC0  7F C0 03 78 */	or r0, r30, r0
/* 800C6E84 000C3DC4  54 1E 04 3E */	clrlwi r30, r0, 0x10
lbl_800C6E88:
/* 800C6E88 000C3DC8  57 C0 04 3F */	clrlwi. r0, r30, 0x10
/* 800C6E8C 000C3DCC  40 82 00 0C */	bne lbl_800C6E98
/* 800C6E90 000C3DD0  38 00 00 00 */	li r0, 0
/* 800C6E94 000C3DD4  48 00 00 28 */	b lbl_800C6EBC
lbl_800C6E98:
/* 800C6E98 000C3DD8  28 00 00 80 */	cmplwi r0, 0x80
/* 800C6E9C 000C3DDC  40 80 00 0C */	bge lbl_800C6EA8
/* 800C6EA0 000C3DE0  38 00 00 01 */	li r0, 1
/* 800C6EA4 000C3DE4  48 00 00 18 */	b lbl_800C6EBC
lbl_800C6EA8:
/* 800C6EA8 000C3DE8  28 00 08 00 */	cmplwi r0, 0x800
/* 800C6EAC 000C3DEC  40 80 00 0C */	bge lbl_800C6EB8
/* 800C6EB0 000C3DF0  38 00 00 02 */	li r0, 2
/* 800C6EB4 000C3DF4  48 00 00 08 */	b lbl_800C6EBC
lbl_800C6EB8:
/* 800C6EB8 000C3DF8  38 00 00 03 */	li r0, 3
lbl_800C6EBC:
/* 800C6EBC 000C3DFC  7C 00 18 00 */	cmpw r0, r3
/* 800C6EC0 000C3E00  41 82 00 0C */	beq lbl_800C6ECC
/* 800C6EC4 000C3E04  3B C0 FF FF */	li r30, -1
/* 800C6EC8 000C3E08  48 00 00 14 */	b lbl_800C6EDC
lbl_800C6ECC:
/* 800C6ECC 000C3E0C  28 1F 00 00 */	cmplwi r31, 0
/* 800C6ED0 000C3E10  41 82 00 08 */	beq lbl_800C6ED8
/* 800C6ED4 000C3E14  B3 DF 00 00 */	sth r30, 0(r31)
lbl_800C6ED8:
/* 800C6ED8 000C3E18  7C 7E 1B 78 */	mr r30, r3
lbl_800C6EDC:
/* 800C6EDC 000C3E1C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C6EE0 000C3E20  7F C3 F3 78 */	mr r3, r30
/* 800C6EE4 000C3E24  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C6EE8 000C3E28  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C6EEC 000C3E2C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800C6EF0 000C3E30  7C 08 03 A6 */	mtlr r0
/* 800C6EF4 000C3E34  38 21 00 20 */	addi r1, r1, 0x20
/* 800C6EF8 000C3E38  4E 80 00 20 */	blr 

.global is_utf8_complete
is_utf8_complete:
/* 800C6EFC 000C3E3C  28 04 00 00 */	cmplwi r4, 0
/* 800C6F00 000C3E40  40 82 00 0C */	bne lbl_800C6F0C
/* 800C6F04 000C3E44  38 60 FF FF */	li r3, -1
/* 800C6F08 000C3E48  4E 80 00 20 */	blr 
lbl_800C6F0C:
/* 800C6F0C 000C3E4C  88 A3 00 00 */	lbz r5, 0(r3)
/* 800C6F10 000C3E50  7C A0 07 75 */	extsb. r0, r5
/* 800C6F14 000C3E54  40 82 00 0C */	bne lbl_800C6F20
/* 800C6F18 000C3E58  38 60 00 00 */	li r3, 0
/* 800C6F1C 000C3E5C  4E 80 00 20 */	blr 
lbl_800C6F20:
/* 800C6F20 000C3E60  7C A5 07 74 */	extsb r5, r5
/* 800C6F24 000C3E64  54 A0 06 31 */	rlwinm. r0, r5, 0, 0x18, 0x18
/* 800C6F28 000C3E68  40 82 00 0C */	bne lbl_800C6F34
/* 800C6F2C 000C3E6C  38 60 00 01 */	li r3, 1
/* 800C6F30 000C3E70  4E 80 00 20 */	blr 
lbl_800C6F34:
/* 800C6F34 000C3E74  54 A0 06 34 */	rlwinm r0, r5, 0, 0x18, 0x1a
/* 800C6F38 000C3E78  2C 00 00 C0 */	cmpwi r0, 0xc0
/* 800C6F3C 000C3E7C  40 82 00 30 */	bne lbl_800C6F6C
/* 800C6F40 000C3E80  28 04 00 02 */	cmplwi r4, 2
/* 800C6F44 000C3E84  41 80 00 20 */	blt lbl_800C6F64
/* 800C6F48 000C3E88  88 03 00 01 */	lbz r0, 1(r3)
/* 800C6F4C 000C3E8C  38 60 FF FF */	li r3, -1
/* 800C6F50 000C3E90  54 00 06 30 */	rlwinm r0, r0, 0, 0x18, 0x18
/* 800C6F54 000C3E94  2C 00 00 80 */	cmpwi r0, 0x80
/* 800C6F58 000C3E98  4C 82 00 20 */	bnelr 
/* 800C6F5C 000C3E9C  38 60 00 02 */	li r3, 2
/* 800C6F60 000C3EA0  4E 80 00 20 */	blr 
lbl_800C6F64:
/* 800C6F64 000C3EA4  38 60 FF FE */	li r3, -2
/* 800C6F68 000C3EA8  4E 80 00 20 */	blr 
lbl_800C6F6C:
/* 800C6F6C 000C3EAC  54 A0 06 36 */	rlwinm r0, r5, 0, 0x18, 0x1b
/* 800C6F70 000C3EB0  2C 00 00 E0 */	cmpwi r0, 0xe0
/* 800C6F74 000C3EB4  40 82 00 6C */	bne lbl_800C6FE0
/* 800C6F78 000C3EB8  28 04 00 03 */	cmplwi r4, 3
/* 800C6F7C 000C3EBC  41 80 00 34 */	blt lbl_800C6FB0
/* 800C6F80 000C3EC0  88 03 00 01 */	lbz r0, 1(r3)
/* 800C6F84 000C3EC4  54 00 06 30 */	rlwinm r0, r0, 0, 0x18, 0x18
/* 800C6F88 000C3EC8  2C 00 00 80 */	cmpwi r0, 0x80
/* 800C6F8C 000C3ECC  40 82 00 1C */	bne lbl_800C6FA8
/* 800C6F90 000C3ED0  88 03 00 02 */	lbz r0, 2(r3)
/* 800C6F94 000C3ED4  54 00 06 30 */	rlwinm r0, r0, 0, 0x18, 0x18
/* 800C6F98 000C3ED8  2C 00 00 80 */	cmpwi r0, 0x80
/* 800C6F9C 000C3EDC  40 82 00 0C */	bne lbl_800C6FA8
/* 800C6FA0 000C3EE0  38 60 00 03 */	li r3, 3
/* 800C6FA4 000C3EE4  4E 80 00 20 */	blr 
lbl_800C6FA8:
/* 800C6FA8 000C3EE8  38 60 FF FF */	li r3, -1
/* 800C6FAC 000C3EEC  4E 80 00 20 */	blr 
lbl_800C6FB0:
/* 800C6FB0 000C3EF0  28 04 00 02 */	cmplwi r4, 2
/* 800C6FB4 000C3EF4  40 82 00 14 */	bne lbl_800C6FC8
/* 800C6FB8 000C3EF8  88 03 00 01 */	lbz r0, 1(r3)
/* 800C6FBC 000C3EFC  54 00 06 30 */	rlwinm r0, r0, 0, 0x18, 0x18
/* 800C6FC0 000C3F00  2C 00 00 80 */	cmpwi r0, 0x80
/* 800C6FC4 000C3F04  41 82 00 0C */	beq lbl_800C6FD0
lbl_800C6FC8:
/* 800C6FC8 000C3F08  28 04 00 01 */	cmplwi r4, 1
/* 800C6FCC 000C3F0C  40 82 00 0C */	bne lbl_800C6FD8
lbl_800C6FD0:
/* 800C6FD0 000C3F10  38 60 FF FE */	li r3, -2
/* 800C6FD4 000C3F14  4E 80 00 20 */	blr 
lbl_800C6FD8:
/* 800C6FD8 000C3F18  38 60 FF FF */	li r3, -1
/* 800C6FDC 000C3F1C  4E 80 00 20 */	blr 
lbl_800C6FE0:
/* 800C6FE0 000C3F20  38 60 FF FF */	li r3, -1
/* 800C6FE4 000C3F24  4E 80 00 20 */	blr 
